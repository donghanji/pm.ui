/*
   pm.build.js ,version 1.2.1 ,updated on 2017-03-08
   module for Plugins Modules library.

   https://github.com/donghanji/pm
 */

!function(){if(void 0===module.declare)throw"There is no global module.declare method!";var a=module.globals("$");module.declare("ui.dropdown",[a],function(b){function c(a){a=a||{};var b=d(a.el);if(b.length){this.$el=b,this.$target=this.$el.eq(0),this.callback=a.callback||"",this.outclick=a.outclick||"";var c=this;this.$el.on("click",function(a){c.clear(),c.toggle(a,this)}).mouseenter(function(){k=!1}).mouseleave(function(){k=!0})}}var d=b(a),e="dropdown",f="dropdownlist",g="option",h="button",i="open",j="dropdown",k=!0;return d(document).on("click",function(a){return k?c.prototype.clear.call(null):void 0}),c.prototype={clear:function(){d("."+j+',[data-role="'+e+'"]').each(function(){var a=d(this);a.removeClass(i)})},toggle:function(a,b){if(!a)return this.$target.toggleClass(i);var c=a.target,e=d(c);if(null===c.getAttribute("data-ignore")){for(;c!==b&&c.getAttribute("data-role")!==h&&c.getAttribute("data-role")!==g&&c.getAttribute("data-role")!==f;)c=c&&c.parentNode?c.parentNode:b;return 9===c.nodeType?this.hide():(e=d(c),c.getAttribute("data-role")===g?(this.callback&&this.callback.call(this,e),this.hide()):c.getAttribute("data-role")===h?(this.$target=e.parent(),this.toggle()):void 0)}},show:function(){this.$el.addClass(i)},hide:function(){this.$el.removeClass(i)}},{load:function(a){return new c(a)}}})}();